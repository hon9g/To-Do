<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// @ts-check

/** @typedef {'general'} DEFAULT_CATEGORY */

/** @type {DEFAULT_CATEGORY} */
const DEFAULT_CATEGORY = 'general'


/** TO-DO Item.
 * @typedef {Object} TodoItem
 * @property {number} id Unique number of the TO-DO Item.
 * @property {string} description Description of the TO-DO Item.
 * @property {boolean} isDone About the TO-DO Item completed or not.
 * @property {string} category Category of the TO-DO Item.
 * @property {Array.&lt;string>} tags Tags of the TO-DO Item.
*/

/**
 * Represents a Todo App.
 * @class
 */
class Todo {
	constructor() {
		/** @type {Map&lt;number:TodoItem>} */
		this.list = new Map()
	}

	/** Add a TO-DO Item.
	 * @param {TodoItem}
	 */
	 create({ id, description, isDone, category, tags }) {
		if (!this.list.has(id)) {
			this.list.set(id, { 
				id,
				description: description ?? '',
				isDone: isDone ?? false,
				category: category ?? DEFAULT_CATEGORY,
				tags: tags ?? [],
			})
		}
	 }

	 /** Read one or all of the TO-DO Items.
	  * @param {number} obj.id Unique number of the TO-DO Item. (optional)
	  * @return {TodoItem | Array.&lt;TodoItem>} One or all of TO-DO items to read.
	 */
	 read({ id } = {}) {
		if (id) {
			return this.list.get(id)
		}
		return [...this.list.values()]
	 }

	/** Change one of property of the TO-DO item.
	 * Also can change one tag item of the TO-DO item.
	 * @param {number} obj.id Unique number of the TO-DO Item. (required)
	 * @param {string} obj.property Name of the property you want to change. (required)
	 * @param {string | boolean} obj.newValue New value of the property. (required)
	 * @param {string} obj.tagName Name of the tag you want to change, if you want to change one of the tags. (optional)
	 * @return {TodoItem} Updated TO-DO item.
	*/
	 update({ id, property, newValue, tagName}) {
		if (['description', 'isDone', 'category', 'tags'].includes(property)) {
			throw new Error(`Invaild property: ${property}`)
		}
		if (property === 'tags') {
			const nextTags = this.list.get(id)['tags'].filter(tag => tag !== tagName)
			nextTags.push(newValue)
			this.list.get(id)['tags'] = nextTags
		} else {
			this.list.get(id)[property] = newValue
		}
		return this.list.get(id)
	 }
 
	 /** Remove one or all of the TO-DO items. 
	  * Also remove one tag or all of the tags of the TO-DO Item.
	  * @param {number} obj.id Unique number of the TO-DO Item. (optional)
	  * @param {boolean} obj.isTag Whether you want to delete one or all of the tags? (optional)
	  * @param {string} obj.tagName Name of the tag, if you want to change one tag. (optional)
	 */
	 delete({id, isTag, tagName} = {}) {
		if (isTag &amp;&amp; tagName) {
			const nextTags = this.list.get(id)['tags'].filter(tag => tag !== tagName)
			this.list.get(id)['tags'] = nextTags
			return
		}
		if (isTag) {
			this.list.get(id)['tags'] = []
		}
		if (id) {
			this.list.delete(id)
			return
		}
		this.list.clear()
	 }
}

// Test
const todo = new Todo();
console.log(todo)
todo.create({
	id: 1,
	description: 'dd',
	isDone: false,
	category: 'A',
	tags: ['a', 'b', 'c']
})
todo.create({
	id: 2,
	description: 'dd2',
	isDone: false,
	category: 'A2',
	tags: ['a2', 'b2', 'c2']
})

console.log(todo.read())

todo.update({
	id: 1,
	property: 'tags',
	newValue: 'd',
	tagName: 'a',
})
todo.update({
	id: 1,
	property: 'isDone',
	newValue: true,
})

console.log(todo.read({ id: 1 }))

todo.delete({
	id: 1,
	isTag: true,
	tagName: 'b',
})
console.log(todo.read())

todo.delete({ id: 1 })

todo.create({
	id: 3,
	description: 'dd3',
	isDone: false,
	category: 'A3',
	tags: ['a3', 'b3', 'c3']
})

console.log(todo.read())

todo.delete()

console.log(todo.read())
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Todo.html">Todo</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Thu Sep 08 2022 20:56:31 GMT+0900 (대한민국 표준시)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
